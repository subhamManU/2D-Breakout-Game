<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>
		2D Breakout Game
	</title>
	<style>
	#myCanvas{
		background: lightblue;
		display: block;
		margin : auto;
	}
</style>
</head>
<body>
	<canvas id="myCanvas" height="750" width="750"></canvas>
	<script>
		
            // defining the canvas element
			var canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");

			var maxHeight = canvas.height;
			var maxWidth = canvas.width;
			//the radius of the ball
            var ballRadius = 10;
            //the next co-ordinate of the ball
			dx = Math.random();
			dy = Math.random();
            //the starting position of the ball on the canvas
			var xPosBall = canvas.width/2;
			var yPosBall = canvas.height/2;

            //paddle configurations
            var paddleHeight = 10;
            var paddleWidhth = 80;
            
            var xPosPaddle = (maxWidth - paddleWidhth)/2;
            var yPosPaddle = maxHeight - paddleHeight;
			var color = getRandomColor();

            //Handling the click functionality
            var rightPressed = false;
            var leftPressed = false;
		
		function drawBall(){

            ctx.beginPath(); 
			ctx.arc(xPosBall, yPosBall, ballRadius, 0, Math.PI*2);
			ctx.fillStyle=color;
            ctx.fill();
            ctx.closePath();
			yPosBall += dy;
			xPosBall += dx;

			
			if(yPosBall <ballRadius || yPosBall>maxHeight - ballRadius){
                 //x = canvas.width/2;
                 dy = -dy;
                 color = getRandomColor(); 
             }

             if(xPosBall <ballRadius || xPosBall>maxWidth - ballRadius){
             	dx = -dx;
             	color = getRandomColor();
             }
            


         }

         function getRandomColor() {
         	var letters = '0123456789ABCDEF';
         	var color = '#';
         	for (var i = 0; i < 6; i++) {
         		color += letters[Math.floor(Math.random() * 16)];
         	}
         	return color;
         }

         function draw(){
         	ctx.clearRect(0,0,maxWidth,maxHeight);
         	
             drawPaddle(); 
             //drawBall();
            
         	
         }

         function drawPaddle(){
             
             ctx.rect(xPosPaddle,yPosPaddle,paddleWidhth,paddleHeight);
             ctx.fillStyle = "black";
             ctx.fill();
             ctx.closePath();
         }
         
        function keyDownHandler(e){
             if(e.keyCode == 39){
                 rightPressed = true;
             }
             if(e.keyCode == 37){
                 leftPressed = true;
             }
             movePaddle();
         }

         function keyUpHandler(e){
            if(e.keyCode == 39){
                 rightPressed = false;
             }
             if(e.keyCode == 37){
                 leftPressed = false;
             }
             movePaddle();
         }

         function movePaddle(){
             if(rightPressed && xPosPaddle < maxWidth - paddleWidhth){
                 xPosPaddle +=7;
             }

             if(leftPressed && xPosPaddle > 0){
                 xPosPaddle -=7;
             }


         }
         document.addEventListener("keydown",keyDownHandler,false);
         document.addEventListener("keyup",keyUpHandler,false);
         setInterval(draw,.005);

     </script>
 </body>
 </html>
